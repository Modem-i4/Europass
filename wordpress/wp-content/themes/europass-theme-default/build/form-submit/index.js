(()=>{var e,t={562:(e,t,o)=>{"use strict";const s=window.wp.blocks,r=window.wp.blockEditor,n=window.wp.components,a=window.wp.i18n,c=JSON.parse('{"UU":"parts-blocks/form-submit"}');o(944);const i=window.ReactJSXRuntime;(0,s.registerBlockType)(c.UU,{edit({attributes:e,setAttributes:t}){const{submitText:o,scopeClass:s,action:c,method:l,successMessage:d,errorMessage:u}=e,m=(0,r.useBlockProps)({className:"form-component is-submit"});return(0,i.jsxs)("div",{...m,children:[(0,i.jsx)(r.InspectorControls,{children:(0,i.jsxs)(n.PanelBody,{title:(0,a.__)("Налаштування","parts-blocks"),initialOpen:!0,children:[(0,i.jsx)(n.TextControl,{label:"Текст кнопки",value:o,onChange:e=>t({submitText:e})}),(0,i.jsx)(n.TextControl,{label:"scopeClass",help:"CSS-клас контейнера (наприклад .form-scope), з якого збиратимуться всі поля",value:s,onChange:e=>t({scopeClass:e})}),(0,i.jsx)(n.TextControl,{label:"action (URL)",value:c,onChange:e=>t({action:e})}),(0,i.jsx)(n.SelectControl,{label:"method",value:l,options:[{label:"POST",value:"POST"},{label:"GET",value:"GET"}],onChange:e=>t({method:e})}),(0,i.jsx)(n.TextControl,{label:"Повідомлення успіху",value:d,onChange:e=>t({successMessage:e})}),(0,i.jsx)(n.TextControl,{label:"Повідомлення помилки",value:u,onChange:e=>t({errorMessage:e})})]})}),(0,i.jsx)("div",{className:"fc-actions",children:(0,i.jsx)("button",{type:"button",className:"fc-submit","data-form-submit":"1","data-scope-class":s||".form-scope","data-action":c||"/","data-method":l||"POST","data-success-message":d||"OK","data-error-message":u||"Error",children:o||"Надіслати"})})]})},save({attributes:e}){const{submitText:t,scopeClass:o,action:s,method:n,successMessage:a,errorMessage:c}=e,l=r.useBlockProps.save({className:"form-component is-submit"});return(0,i.jsx)("div",{...l,children:(0,i.jsx)("button",{type:"button",className:"fc-submit","data-form-submit":"1","data-scope-class":o||".form-scope","data-action":s||"/","data-method":n||"POST","data-success-message":a||"Форму надіслано успішно.","data-error-message":c||"Сталася помилка.",children:t||"Надіслати"})})}})},944:()=>{!function(){function e(e=document){e.querySelectorAll('[data-form-submit="1"]').forEach((e=>{if(e.__fcBound)return;e.__fcBound=!0;const t=e.getAttribute("data-scope-class")||".form-scope",o=e.getAttribute("data-action")||"/",s=(e.getAttribute("data-method")||"POST").toUpperCase(),r=e.getAttribute("data-success-message")||"OK",n=e.getAttribute("data-error-message")||"Error",a=document.querySelector(t);a?function(e,t){if(!t||e.__fcValBound)return;e.__fcValBound=!0;const o=()=>function(e,t){const o=function(e){const t=Array.from(e.querySelectorAll('[data-form-input="1"][name]')).filter((e=>!e.disabled));if(!t.length)return!1;const o=t.some((e=>!0===e.required)),s=e=>!o||!0===e.required,r=new Map;for(const e of t)if(("checkbox"===e.type||"radio"===e.type)&&s(e)){const t=r.get(e.name)||{required:!1,anyChecked:!1,hasInputs:!1};t.required=t.required||!0,t.anyChecked=t.anyChecked||e.checked,t.hasInputs=!0,r.set(e.name,t)}for(const e of t){var n;if(!s(e))continue;if("checkbox"===e.type||"radio"===e.type)continue;const t=e.tagName.toLowerCase();var a;if("file"!==e.type){if("select"!==t){if(""===(null!==(n=e.value)&&void 0!==n?n:"").toString().trim())return!1}else if(""===(null!==(a=e.value)&&void 0!==a?a:"").trim())return!1}else if(!(e.files&&e.files.length>0))return!1}for(const[,e]of r)if(e.required&&e.hasInputs&&!e.anyChecked)return!1;const c=e.querySelector('.cc-input[type="checkbox"][required]');return!(c&&!c.checked)}(t);e.classList.toggle("active",o)}(e,t);o(),t.addEventListener("input",o),t.addEventListener("change",o)}(e,a):console.warn("[form-components] scope element not found:",t),e.addEventListener("click",(a=>{a.preventDefault();const c=document.querySelector(t);if(!c)return console.warn("[form-components] scope element not found:",t),void alert("Не знайдено контейнер форми: "+t);!async function({action:e,method:t,scopeEl:o,button:s,successMessage:r,errorMessage:n}){const a=s.textContent;s.disabled=!0,s.classList.add("is-loading");try{const n=function(e){const t=e.querySelectorAll('[data-form-input="1"][name]'),o=new FormData;return t.forEach((e=>{var t;e.disabled||("checkbox"===e.type||"radio"===e.type?e.checked&&o.append(e.name,e.value||"on"):o.append(e.name,null!==(t=e.value)&&void 0!==t?t:""))})),o}(o),c={method:t||"POST"};if("GET"===(t||"POST").toUpperCase()){const t=new URLSearchParams;for(const[e,o]of n.entries())t.append(e,o);const o=e.includes("?")?`${e}&${t}`:`${e}?${t}`;if(!(await fetch(o,{method:"GET",credentials:"same-origin"})).ok)throw new Error("Network error")}else if(c.body=n,c.credentials="same-origin",!(await fetch(e,c)).ok)throw new Error("Network error");s.classList.remove("is-loading"),s.classList.add("is-success"),r&&alert(r),s.textContent=a}catch(e){s.classList.remove("is-loading"),s.classList.add("is-error"),n&&alert(n),console.error("[form-components] submit failed:",e),s.textContent=a}finally{s.disabled=!1,setTimeout((()=>{s.classList.remove("is-success","is-error")}),1200)}}({action:o,method:s,scopeEl:c,button:e,successMessage:r,errorMessage:n})}))}))}document.addEventListener("DOMContentLoaded",(()=>e(document))),document.addEventListener("wp-block-render",(t=>e(t.target||document)))}()}},o={};function s(e){var r=o[e];if(void 0!==r)return r.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,s),n.exports}s.m=t,e=[],s.O=(t,o,r,n)=>{if(!o){var a=1/0;for(d=0;d<e.length;d++){for(var[o,r,n]=e[d],c=!0,i=0;i<o.length;i++)(!1&n||a>=n)&&Object.keys(s.O).every((e=>s.O[e](o[i])))?o.splice(i--,1):(c=!1,n<a&&(a=n));if(c){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,r,n]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={675:0,909:0,923:0};s.O.j=t=>0===e[t];var t=(t,o)=>{var r,n,[a,c,i]=o,l=0;if(a.some((t=>0!==e[t]))){for(r in c)s.o(c,r)&&(s.m[r]=c[r]);if(i)var d=i(s)}for(t&&t(o);l<a.length;l++)n=a[l],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},o=globalThis.webpackChunkhero_circle_overlayed=globalThis.webpackChunkhero_circle_overlayed||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var r=s.O(void 0,[923],(()=>s(562)));r=s.O(r)})();