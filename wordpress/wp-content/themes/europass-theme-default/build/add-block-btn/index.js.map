{"version":3,"file":"add-block-btn/index.js","mappings":"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","sources":["webpack://hero-circle-overlayed/./src/add-block-btn/index.js","webpack://hero-circle-overlayed/./src/add-block-btn/style.scss?f6ad","webpack://hero-circle-overlayed/external window [\"wp\",\"blockEditor\"]","webpack://hero-circle-overlayed/external window [\"wp\",\"blocks\"]","webpack://hero-circle-overlayed/external window [\"wp\",\"components\"]","webpack://hero-circle-overlayed/external window [\"wp\",\"data\"]","webpack://hero-circle-overlayed/external window [\"wp\",\"element\"]","webpack://hero-circle-overlayed/external window \"ReactJSXRuntime\"","webpack://hero-circle-overlayed/webpack/bootstrap","webpack://hero-circle-overlayed/webpack/runtime/chunk loaded","webpack://hero-circle-overlayed/webpack/runtime/compat get default export","webpack://hero-circle-overlayed/webpack/runtime/define property getters","webpack://hero-circle-overlayed/webpack/runtime/hasOwnProperty shorthand","webpack://hero-circle-overlayed/webpack/runtime/make namespace object","webpack://hero-circle-overlayed/webpack/runtime/jsonp chunk loading","webpack://hero-circle-overlayed/webpack/before-startup","webpack://hero-circle-overlayed/webpack/startup","webpack://hero-circle-overlayed/webpack/after-startup"],"sourcesContent":["import { registerBlockType, createBlock, parse } from '@wordpress/blocks';\r\nimport { useBlockProps, InspectorControls } from '@wordpress/block-editor';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\nimport { PanelBody, TextControl, Button, SelectControl, Notice } from '@wordpress/components';\r\nimport { useMemo } from '@wordpress/element';\r\nimport metadata from './block.json';\r\nimport './style.scss';\r\n\r\n/** Рекурсивно розгортає reusable (core/block with ref) у звичайні блоки */\r\nfunction expandReusableBlocks(blocks, getReusableHTMLById) {\r\n\treturn blocks.flatMap((b) => {\r\n\t\tif (b?.name === 'core/block' && b?.attributes?.ref) {\r\n\t\t\tconst html = getReusableHTMLById(b.attributes.ref);\r\n\t\t\tif (html) {\r\n\t\t\t\tconst inner = parse(html);\r\n\t\t\t\treturn expandReusableBlocks(inner, getReusableHTMLById);\r\n\t\t\t}\r\n\t\t\treturn [b];\r\n\t\t}\r\n\t\tif (b?.innerBlocks?.length) {\r\n\t\t\tconst expandedChildren = expandReusableBlocks(b.innerBlocks, getReusableHTMLById);\r\n\t\t\treturn [{ ...b, innerBlocks: expandedChildren }];\r\n\t\t}\r\n\t\treturn [b];\r\n\t});\r\n}\r\n\r\nregisterBlockType(metadata.name, {\r\n\tedit: ({ attributes, setAttributes, clientId }) => {\r\n\t\tconst { addMode, blockName, patternKey, buttonLabel, targetSelector } = attributes;\r\n\t\tconst blockProps = useBlockProps();\r\n\r\n\t\tconst { insertBlocks } = useDispatch('core/block-editor');\r\n\r\n\t\tconst be = useSelect((select) => select('core/block-editor'), []);\r\n\t\tconst core = useSelect((select) => select('core'), []);\r\n\r\n\t\tconst rootClientId = be.getBlockRootClientId(clientId);\r\n\t\tconst currentIndex = be.getBlockIndex(clientId, rootClientId);\r\n\r\n\t\t// 1) шукаємо в зареєстрованих патернах за slug (name)\r\n\t\tconst patternBySlug = useMemo(() => {\r\n\t\t\tif (!patternKey || addMode !== 'pattern') return null;\r\n\t\t\tconst patterns = be.getBlockPatterns?.() || [];\r\n\t\t\treturn patterns.find((p) => p.name === patternKey) || null;\r\n\t\t}, [addMode, patternKey, be]);\r\n\r\n\t\t// 2) якщо не знайдено і patternKey схожий на ID → тягнемо пост\r\n\t\tconst isNumericId = useMemo(() => /^\\d+$/.test((patternKey || '').trim()), [patternKey]);\r\n\t\tconst patternPostById = useSelect(\r\n\t\t\t(select) => {\r\n\t\t\t\tif (!isNumericId || addMode !== 'pattern') return null;\r\n\t\t\t\tconst coreSel = select('core');\r\n\t\t\t\tconst id = Number(patternKey);\r\n\t\t\t\t// Спроба: спершу wp_pattern (нові кастомні патерни), інакше wp_block (synced)\r\n\t\t\t\treturn (\r\n\t\t\t\t\tcoreSel.getEntityRecord?.('postType', 'wp_pattern', id) ||\r\n\t\t\t\t\tcoreSel.getEntityRecord?.('postType', 'wp_block', id) ||\r\n\t\t\t\t\tnull\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\t[addMode, isNumericId, patternKey]\r\n\t\t);\r\n\r\n\t\tconst getReusableHTMLById = (id) => {\r\n\t\t\t// reusable/synced традиційно зберігаються у wp_block\r\n\t\t\tconst rec =\r\n\t\t\t\tcore.getEntityRecord?.('postType', 'wp_block', id) ||\r\n\t\t\t\tcore.getEntityRecord?.('postType', 'wp_pattern', id) ||\r\n\t\t\t\tnull;\r\n\t\t\treturn rec?.content?.raw || null;\r\n\t\t};\r\n\r\n\t\tconst resolveTarget = () => {\r\n\t\t\tif (!targetSelector) return { parentId: rootClientId, index: currentIndex + 1 };\r\n\t\t\tconst el = document.querySelector(targetSelector);\r\n\t\t\tif (!el) return { parentId: rootClientId, index: currentIndex + 1 };\r\n\r\n\t\t\tconst host = el.closest('.block-editor-block-list__block');\r\n\t\t\tconst targetId = host?.dataset?.block;\r\n\t\t\tif (!targetId) return { parentId: rootClientId, index: currentIndex + 1 };\r\n\r\n\t\t\tconst order = be.getBlockOrder(targetId) || [];\r\n\t\t\treturn { parentId: targetId, index: order.length }; // всередину, в кінець\r\n\t\t};\r\n\r\n\t\tconst handleAdd = () => {\r\n\t\t\tlet blocksToInsert = [];\r\n\r\n\t\t\tif (addMode === 'block') {\r\n\t\t\t\tblocksToInsert = [createBlock(blockName)];\r\n\t\t\t} else if (addMode === 'pattern') {\r\n\t\t\t\tif (patternBySlug?.content) {\r\n\t\t\t\t\tconst parsed = parse(patternBySlug.content);\r\n\t\t\t\t\tblocksToInsert = expandReusableBlocks(parsed, getReusableHTMLById);\r\n\t\t\t\t} else if (isNumericId && patternPostById?.content?.raw) {\r\n\t\t\t\t\tconst parsed = parse(patternPostById.content.raw);\r\n\t\t\t\t\tblocksToInsert = expandReusableBlocks(parsed, getReusableHTMLById);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn; // не знайшли патерн ні за slug, ні за id\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!blocksToInsert.length) return;\r\n\r\n\t\t\tconst { parentId, index } = resolveTarget();\r\n\t\t\tinsertBlocks(blocksToInsert, index, parentId);\r\n\t\t};\r\n\r\n\t\tconst showNotFoundNotice =\r\n\t\t\taddMode === 'pattern' &&\r\n\t\t\tpatternKey &&\r\n\t\t\t!patternBySlug &&\r\n\t\t\t(!isNumericId || (isNumericId && !patternPostById));\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<InspectorControls>\r\n\t\t\t\t\t<PanelBody title=\"Налаштування додавання\">\r\n\t\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t\tlabel=\"Режим додавання\"\r\n\t\t\t\t\t\t\tvalue={addMode}\r\n\t\t\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t\t\t{ label: 'Блок за ім’ям', value: 'block' },\r\n\t\t\t\t\t\t\t\t{ label: 'Патерн (slug або ID)', value: 'pattern' },\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\tonChange={(val) => setAttributes({ addMode: val })}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t{addMode === 'block' && (\r\n\t\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\t\tlabel=\"Назва блоку (namespace/block)\"\r\n\t\t\t\t\t\t\t\tvalue={blockName}\r\n\t\t\t\t\t\t\t\tonChange={(val) => setAttributes({ blockName: val })}\r\n\t\t\t\t\t\t\t\tplaceholder=\"core/paragraph\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{addMode === 'pattern' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\t\t\tlabel=\"Pattern (slug або ID)\"\r\n\t\t\t\t\t\t\t\t\tvalue={patternKey}\r\n\t\t\t\t\t\t\t\t\tonChange={(val) => setAttributes({ patternKey: val })}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"theme/pattern-name або 123\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{showNotFoundNotice && (\r\n\t\t\t\t\t\t\t\t\t<Notice status=\"warning\" isDismissible={false}>\r\n\t\t\t\t\t\t\t\t\t\tПатерн не знайдено ні за slug, ні за ID.\r\n\t\t\t\t\t\t\t\t\t</Notice>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\tlabel=\"CSS-селектор таргета (опційно)\"\r\n\t\t\t\t\t\t\tvalue={targetSelector}\r\n\t\t\t\t\t\t\tonChange={(val) => setAttributes({ targetSelector: val })}\r\n\t\t\t\t\t\t\tplaceholder=\".my-section або #target\"\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\tlabel=\"Текст кнопки\"\r\n\t\t\t\t\t\t\tvalue={buttonLabel}\r\n\t\t\t\t\t\t\tonChange={(val) => setAttributes({ buttonLabel: val })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</PanelBody>\r\n\t\t\t\t</InspectorControls>\r\n\r\n\t\t\t\t<div {...blockProps} className=\"add-block-btn\">\r\n\t\t\t\t\t<Button variant=\"primary\" onClick={handleAdd}>{buttonLabel}</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t},\r\n\r\n\tsave: () => null,\r\n});\r\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"add-block-btn/index\": 0,\n\t\"add-block-btn/style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkhero_circle_overlayed\"] = globalThis[\"webpackChunkhero_circle_overlayed\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"add-block-btn/style-index\"], () => (__webpack_require__(\"./src/add-block-btn/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["registerBlockType","createBlock","parse","useBlockProps","InspectorControls","useDispatch","useSelect","PanelBody","TextControl","Button","SelectControl","Notice","useMemo","metadata","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","expandReusableBlocks","blocks","getReusableHTMLById","flatMap","b","name","attributes","ref","html","inner","innerBlocks","length","expandedChildren","edit","setAttributes","clientId","addMode","blockName","patternKey","buttonLabel","targetSelector","blockProps","insertBlocks","be","select","core","rootClientId","getBlockRootClientId","currentIndex","getBlockIndex","patternBySlug","patterns","getBlockPatterns","find","p","isNumericId","test","trim","patternPostById","coreSel","id","Number","getEntityRecord","rec","content","raw","resolveTarget","parentId","index","el","document","querySelector","host","closest","targetId","dataset","block","order","getBlockOrder","handleAdd","blocksToInsert","parsed","showNotFoundNotice","children","title","label","value","options","onChange","val","placeholder","status","isDismissible","className","variant","onClick","save"],"sourceRoot":""}